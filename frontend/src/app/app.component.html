<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
<div class="container bg-light">
  <h2 class="text-center m-3">
    Real State Funds
  </h2>
  <div class="m-3">
    <b>Code</b>
    <input id="addCod" #addCod [value]="addCod.value" (input)="onInputAddCodChange()" (keydown.enter)='onButtonAdd(addCod.value)'>
    <a (click)='onButtonAdd(addCod.value)'>
      <i class="btn btn-primary btn-sm fas fa-plus"></i>
    </a>
    <div *ngIf="invalidAddCod" class="alert alert-danger" role="alert">
      Fii code "{{invalidAddCod}}" does not exist.
    </div>
  </div>
  <div class="m-3">
    <table class="table table-striped table-bordered">
      <thead>
        <th>Code</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>V/P</th>
        <th>DY Annual</th>
        <th>Total Value</th>
        <th>Next Dividend Yield</th>
        <th>Action</th>
      </thead>
      <tbody>
        <tr *ngFor="let myFii of myFiis; let i = index">
          <td>{{myFii.cod}}</td>
          <td><input class="form-control form-control-sm" type="text" name="cod" id="" value="{{myFii.qt}}" (input)="onInputQtChange(myFii, $event.target.value)"></td>
          <td>{{parseNumber(myFii.price)}}</td>
          <td>{{parseNumber(myFii.vp)}}</td>
          <td>{{parseNumber(myFii.annualAverageDyPercentage)}}</td>
          <td>{{parseNumber(myFii.price * myFii.qt)}}</td>
          <td>{{parseNumber(myFii.lastDy * myFii.qt)}}</td>
          <td><i class="btn btn-danger btn-sm fas fa-trash-alt" (click)='onButtonRemove(myFii)'></i></td>
        </tr>
        <tr>
          <td><i class="btn btn-primary btn-lg fas fa-sync" (click)='onButtonRefresh()'></i></td>
          <td></td>
          <td></td>
          <td></td>
          <th>{{sumDYAnnual}}</th>
          <th>{{totalValue}}</th>
          <th>{{totalDY}}</th>
          <td></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
